<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我如此复活了埋在程高本后四十回的曹文</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* 日间模式 */
        body {
            background-color: #FAFAFA;
            color: #333;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", Arial, sans-serif;
            font-size: 16px;
            line-height: 1.8;
            min-height: 100vh;
            padding: 20px;
            transition: all 0.3s ease;
        }

        /* 深色模式 */
        body.dark-mode {
            background-color: #1E1E1E;
            color: #E0E0E0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #FFFFFF;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        body.dark-mode .container {
            background-color: #2D2D2D;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .header {
            background-color: #FFFFFF;
            border-bottom: 1px solid #E5E5E5;
            padding: 30px 40px;
            text-align: center;
            transition: all 0.3s ease;
        }

        body.dark-mode .header {
            background-color: #2D2D2D;
            border-bottom: 1px solid #404040;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
            font-weight: 600;
            color: #333;
            transition: all 0.3s ease;
        }

        body.dark-mode .header h1 {
            color: #E0E0E0;
        }

        .header .date {
            font-size: 14px;
            color: #666;
            transition: all 0.3s ease;
        }

        body.dark-mode .header .date {
            color: #A0A0A0;
        }

        .content {
            padding: 40px;
        }

        .article-content {
            font-size: 16px;
            line-height: 1.8;
            color: #333;
            transition: all 0.3s ease;
        }

        body.dark-mode .article-content {
            color: #E0E0E0;
        }

        .article-content p {
            margin-bottom: 20px;
            text-indent: 2em;
        }

        .footer {
            background-color: #F8F9FA;
            border-top: 1px solid #E5E5E5;
            padding: 20px 40px;
            text-align: center;
            transition: all 0.3s ease;
        }

        body.dark-mode .footer {
            background-color: #2D2D2D;
            border-top: 1px solid #404040;
        }

        .footer a {
            color: #1A73E8;
            text-decoration: none;
            margin: 0 15px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        body.dark-mode .footer a {
            color: #4EA1FF;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background-color: #FFFFFF;
            border: 1px solid #E5E5E5;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        body.dark-mode .mode-toggle {
            background-color: #2D2D2D;
            border: 1px solid #404040;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .mode-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        body.dark-mode .mode-toggle:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 20px;
            }

            .content {
                padding: 20px;
            }

            .footer {
                padding: 15px 20px;
            }

            .mode-toggle {
                top: 10px;
                right: 10px;
                font-size: 12px;
                padding: 6px 12px;
            }
        }
    </style>
</head>
<body>
    <!-- 模式切换按钮 -->
    <button class="mode-toggle" onclick="toggleMode()">🌙 夜间模式</button>

    <div class="container">
        <div class="header">
            <h1>我如此复活了埋在程高本后四十回的曹文</h1>
            <div class="date">2026-02-11 14:15:46</div>
        </div>
        <div class="content">
            <div class="article-content">
                <p>&lt;p id="filepos2019436" class="calibre_"&gt;&lt;span class="calibre1"&gt;&lt;span class="bold"&gt;我如此复活了埋在程高本后四十回的曹文 &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class="calibre_"&gt;&lt;span class="bold"&gt;文/唐国明&lt;/span&gt;&lt;/p&gt;&lt;p class="calibre_"&gt;一、&lt;/p&gt;&lt;p class="calibre_"&gt;首先要说明的是，本书是我做了一个复活埋在程高本《红楼梦》后40回中曹文文本的工作，也是在发现曹文的基础上以考古复原的方式复活了曹文。&lt;/p&gt;&lt;p class="calibre_"&gt;我从14岁到37岁，23年阅读《红楼梦》的过程中，从《红楼梦》程高本后40回中发现埋藏在其中《红楼梦》八十回后的曹文后，不断确认，不断从里面找出曹雪芹所有可能写的情节的点与段落、语句，如同寻找一个被人分尸后的尸骨，将找到的点点滴滴曹文骨肉组织起来，然后以考古复原的方式复活出了传说中遗失民间或传说被皇帝所毁、众家所猜、脂批所示的《红楼梦》八十回后的曹文二十回，自然地契合了脂批中多次提到的百回大文《红楼梦》的回数，名为《红楼梦八十回后曹文考古复原》（20回）。在仍以考古复原方式复活《红楼梦》第67回曹文的基础上，与对前79回的再次校对上，不断完善到如今，自然成就了我阅读到一本好书的梦想。&lt;/p&gt;&lt;p class="calibre_"&gt;至于我是怎样从《红楼梦》程高本后四十回以考古修补复原的方式复活曹文的，看看下面举的复活程高本《红楼梦》第81回第一段的例子就知。【提示读者：《红楼梦》文本中的“的、地、得”在那时是统统用作“的”，“他、她、它”在那时统统用作“他”，“那”“哪”在那时统统用作“那”，“像”统统用“象”。</p>
<p>在此书中凡是关于《红楼梦》文本的文字，都遵守那时的用法，不要以为是错字别字。】&lt;/p&gt;&lt;p class="calibre_"&gt;1、在程高本原文第81回第一段以考古修补复原方式复活曹文过程的展示：&lt;/p&gt;&lt;p class="calibre_"&gt;注意：下文“&amp;lt;&amp;gt;”内的是删除的字句，“&lt;span class="bold"&gt;（）&lt;/span&gt;”内的是还原的字句，“【】”内的是还原式添加的字句。&lt;/p&gt;&lt;p class="calibre_"&gt;2、从程高本原文第81回第一段复活出来的曹文正文：&lt;/p&gt;&lt;p class="calibre_"&gt;二、&lt;/p&gt;&lt;p class="calibre_"&gt;“红学”的最高目的是为找到真正的《红楼梦》文本，回到《红楼梦》文本本身，阐释传播《红楼梦》文本本身的事情上来，才是“红学”未来走得更远的理由。&lt;/p&gt;&lt;p class="calibre_"&gt;当年脂砚斋见《红楼梦》的书稿已失，凭着自己的记忆，以评的方式，告诉我们后人，《红楼梦》完成了，并且内容大致是个什么情况，残缺的部分基本写了什么，给我们这些后人留下了修补《红楼梦》不至走样的珍贵资料。&lt;/p&gt;&lt;p class="calibre_"&gt;自从程伟元与高鹗整理出一百二十回《红楼梦》，可以说《红楼梦》已进入了汇校的时代，到俞平伯前后一批学人对一百二十回本提出质疑，加之《红楼梦》脂批各种残稿本的出现，先有俞平伯汇校的前八十回加程高本《红楼梦》后四十回，由人民文学出版社出版，不断修订普及至今，后有周汝昌《红楼梦》前八十回汇校本与郑庆山《脂本汇校石头记》的出版，同时刘心武与周汝昌根据脂批对《红楼梦》八十回后内容的考证猜测的流传，可以说使《红楼梦》已空前进入了修残补缺，复原整理的成熟时期。</p>
<p>&lt;/p&gt;&lt;p class="calibre_"&gt;在俞平伯以前，多年来流传开来的是程高本一百二十回《红楼梦》，程伟元在程甲本《红楼梦序》中说：“……自藏书家甚至故纸堆中无不留心，数年以来，仅积有廿余卷。一日偶于鼓担上得十余卷，遂重价购之，……见其前后起伏，……然漶漫不可收拾。乃同友人细加釐剔，截长补短，抄成全部，复为镌板，以公同好，《红楼梦》全书始至是告成矣。”又程伟元、高鹗在程乙本《红楼梦引言》中说：“……是书前八十回，藏书家抄录传阅几三十年矣，今得后四十回合成完璧。……书中前八十回抄本，各家互异，今广集核勘，准情酌理，补遗订讹。</p>
<p>其间或有增损数字处，意在便于披阅，非敢争胜前人也。……是书沿传既久，坊间繕本及诸家所藏秘稿，繁简歧出，前后错见。即如六十七回，此有彼无，题同文异，燕石莫辨。兹惟择其情理较协者取为定本。书中后四十回，系就历年所得，集腋成裘，更无他本可考。</p>
<p>惟按其前后关照者，略为修辑，使其有应接而无矛盾。至其原文，未敢臆改，俟再得善本，更为厘定，且不欲尽掩其本来面目也。”俞平伯晚年也很后悔腰斩“红楼”：分开前八十回与后四十回。这四十回中究竟隐含了什么？&lt;/p&gt;&lt;p class="calibre_"&gt;自十多岁始读《红楼梦》，读过数次后，每读到贾母叫惜春画大观园，叫添上一个丫头捧梅与宝琴大红大紫地站在藕香榭东门外的山坡雪地上，我就想这应是为日后让出家的惜春于青灯之下、低眉展卷自画的大观园画幅，看画中过去千紫万红，抬头望望栊翠庵的窗外，已是残月荒草作铺垫的。</p>
<p>每读到八十回迎春出嫁，就感到繁华渐去，大观园中的女子开始离散，青春的盛宴不再。总以为要写最多还写到黛玉宝玉的爱情悲剧，就该以一个总结的方式结束了。正好应了秦可卿死前托梦给凤姐所说的：“三春过后诸芳尽，各自须寻各自门。”恰好在秦可卿死后，从贾元春省亲算来，到《红楼梦》第七十回林黛玉开桃花诗社，刚好是《红楼梦》写的第三个春天的开始。从时间上讲，过完这个春天的一年，到第二年从元宵节后，就该为《红楼梦》终局了。</p>
<p>这样才应了《红楼梦》第一回那句从僧人口中说出的“好防佳节元宵后，便是烟消火灭时”的话。在这两句话后的甲戌本脂批侧批中：前一句是“前后一样，不直云前而云后，是讳知者。”后一句是“伏后文。”&lt;/p&gt;&lt;p class="calibre_"&gt;另外，《红楼梦》通篇读去，你会从一个家族生活的起居游玩打闹小吵小斗中看到一个讲排场、摆阔气、显奢华、图乐子，过度溺爱孙子孙女的老太君；一个怀“安和”情怀安和着大观园众红颜的男子贾宝玉；几个寄人篱下心怀“零乡”之感的知己红颜；一帮深怀居安思危奋发图强心气的姐妹；一群命如纸薄，命系悬丝的丫鬟；一伙只管尽兴挥霍祖业，今朝有酒今朝醉，享乐过日，坐吃山空，不事前程的男人构成的家族群体，共同画写了一幅“夕阳无限好，只是近黄昏”的史诗图像；如同雄伟的万里长城与圆明园被劫后的废墟一般，警示后人不管处如何境况，必时刻以思危奋发图强的精神，以德安和天下的情怀处世为人，来避免家败人亡的命运。也会看到从天上到人间来的宝玉及一群千红百艳的女子在青春期万紫千红地相聚争艳再到各自奔腾四方的一个聚散过程，自觉的应了人生如梦、聚散无常，尽管经历了什么荣华富贵，三灾九难，怎么美艳，诗情画意过，人也不过是警幻册子里的一个名字。</p>
<p>&lt;/p&gt;&lt;p class="calibre_"&gt;但《红楼梦》主要是写青春少女最纯净最美丽的原生态诗意生活的，作者借对这种最纯净最美丽的青春原生态诗意生活的追忆与怀念，去彰显所处的那个时代与自己所产生的思想哲学与人生观。随着青春的结束，那次庞大的青春宴会也该散场，归天的归天，回乡的回乡了；入俗的入俗，出世的出世了。对于四大家族烟消的烟消，火灭的火灭了。&lt;/p&gt;&lt;p class="calibre_"&gt;其次，《红楼梦》也着重表达了一旦背后支撑的“诗意情怀”人生存在的框架已经失去，“诗意情怀”的人生就会破灭，而怀了这种“情怀”诗意的人最终只能退出现实这个残忍的舞台。&lt;/p&gt;&lt;p class="calibre_"&gt;上面所述应是《红楼梦》整体情节发展的方向。</p>
<p>而程高整理修订添补《红楼梦》时曹雪芹才死去三十年，读没读到曹雪芹后面写的稿子他们已在程甲（乙）本序言中道明，至于《红楼梦》八十回后原本，在《石头记》脂本批语中——第二十回庚辰眉批云：茜雪至“狱神庙”方呈正文。袭人正文标目曰“花袭人有始有终”，余只见有一次誊清时，与“狱神庙慰宝玉”等五六稿，被借阅者迷失，叹叹！第二十五回庚辰眉批云：叹不能见宝玉“悬崖撒手”文字为恨。第二十六回庚辰眉批云：“狱神庙”回有红玉、茜雪一大回文字，惜迷失无稿，叹叹。第二十七回庚辰眉批云：此系未见“抄没”、“狱神庙”诸事，故有是批……从这些话语中可得知，在曹雪芹完稿，脂批之时当时的批书者就有很多回遗失没读到了，到程高时期已经三十多年了，他们是不可能全读到的，他们只能在发现的那些残页断章中去修补，也就当然不可能完全按脂批意指去补上。</p>
<p>然而程高本后四十回很多地方与细节是符合“脂意”的。据周汝昌的考证，他发现清道光年间俄国汉学家在他所购的程高本上题明：“宫廷印刷”。可见程高本是“脂意”与皇家“旨意”交织的产物。《石头记》脂批里多次提到“百回大文仅此一见”，明确地告诉你《红楼梦》是百回大文。这个脂批作者，在作脂批时就面对着了《红楼梦》八十回后被粉碎的命运。</p>
<p>直到曹雪芹死后，一百二十回程高本《红楼梦》印刷流传，也开始广为被世人接受，后来的续书也不知有多少，都没被读者接受，唯独接受程高本后四十回。&lt;/p&gt;&lt;p class="calibre_"&gt;作为一个伟大的作家曹雪芹，几乎在死前十多年都在增删修饰，他前面八十回到现在都能找到存下来的各种残本，在程高时期未必后面的会没有存下来，说程高本后四十回是完全的续作，说曹雪芹没有完成《红楼梦》原作，都难以成立。在《红楼梦》第一回中就有这样的话：“……后因曹雪芹于悼红轩中披阅十载，增删五次，纂成目录，分出章回，则题曰《金陵十二钗》。……”从这话中就明确告诉我们《红楼梦》是完成了的，若说程高本后四十回全是另作的，那么八十回后面的部分到哪里去了呢？&lt;/p&gt;&lt;p class="calibre_"&gt;难道曹雪芹完成初稿后在倾力对《红楼梦》进行增删修饰的过程里，因当时外界一些难以诉说的其他因素赋予的无形压力，难道就自愿删去了？</p>
<p>《红楼梦》八十回后到底是怎么回事，我们只能从脂批中去寻找一些蛛丝马迹。&lt;/p&gt;&lt;p class="calibre_"&gt;在蒙藏本第二回脂批中有：“以百回之大文……世态人情，尽盘旋于其间，而一丝不乱，非聚龙象力者，其孰能哉？”的话；在蒙藏本第四回脂批中有：“后百十回黛玉之泪，总不能出此二语……笔未到而境先到矣。”在庚辰本第二十五回脂本眉批中有：“通灵玉除邪，全部百回只此一见，何得再言？僧道踪迹虚实，幻笔幻想，写幻人于幻文也。</p>
<p>”的话；在庚辰本第四十回回前脂批中有：“今书至三十八回时，已过三分之一馀。”的话；在同一蒙藏本的脂批中前后矛盾，一说百回一说百十回，庚辰本脂批前后倒不矛盾。到程伟元高鄂编写时又说是回目一百二十回。道来说去，做脂批的人才是亲自读到全书之人。通看脂批，百回之说总见优势。</p>
<p>但有红学学者认为是一百零八回左右，理由是古人习惯以“九”为数，在《红楼梦》前五十四回是写“盛”，后五十四回是写“衰”。由这般推去，说是一百回更有理由，因为《红楼梦》通篇是以写诸芳聚散之事来彰显盛衰的，况且《红楼梦》整体是围绕“三春过后诸芳尽，各自须寻各自门”的意旨来进行的，在一至五十回已经完成了诸芳在大观园千紫万红、百花齐放的聚集，从五十一回以“袭人出园回家探母，晴雯得病作引”地开始为诸芳千红一哭、万艳同悲地从“聚”向“散”开始伏笔。而最大的理由是几乎有很多学者与读者公认《红楼梦》的写作方法来自于《金瓶梅》，《金瓶梅》只有一百回。脂批中甲戌本第一十三回脂批中眉批云：“写个个皆到，全无安逸之笔，深得《金瓶》壶奥！”在甲戌本第二十六回脂批侧批有：“《水浒》文法用的恰，当是芸哥眼中也。</p>
<p>”的话。据专家考证最接近于《水浒传》原本面貌的是一百回本。给《红楼梦》是一百回更加增加了证据。若再增加证据，百回《西游记》更是更好的证据了，《红楼梦》其“神”与“意”受《西游记》影响较大，其结构与语言又受《金瓶梅》影响较大，《西游记》与《金瓶梅》都是一百回，加之至目前发现的清朝小说。百回文本普遍，可以肯定曹雪芹创作的《红楼梦》就是一百回。</p>
<p>&lt;/p&gt;&lt;p class="calibre_"&gt;曹公在《红楼梦》中主要是以写青春女子们的风流云散而彰显世事。就像海明威的小说，只露冰山一角的。八十回后面的文字也应该如此，如大海般在平静中去显示出那份曹公须表达的千红一哭、万艳同悲的绝世出尘的伤感。&lt;/p&gt;&lt;p class="calibre_"&gt;读程高本后四十回越多，越明白它被大众所接受的原因，就越明白这后四十回证明了曹雪芹没有废弃八十回后完成的内容，越有把握地肯定高鹗与程伟元当时搜罗到了曹雪芹写的八十回后《红楼梦》及脂批中说过丢失的那一部分。在阅读的过程中时看到不少曹雪芹写的文字跳脱出来。</p>
<p>程高本后四十回的意指大体合曹雪芹与脂批的意思，虽然回目不太与脂批说的相合，只是可能在残章断页处续补得太长，参沙子参得太多，使很多文字与内容有失曹公原味，所以也就拉开了与曹雪芹前八十回的距离，在宝黛悲剧的处理上不是完全符合前八十回情节走向的原旨。了解多了，更敢肯定的认为，曹公《红楼梦》的这百回文字的残章断页应是被高鹗与程伟元为了我们难以说清的目的如碎玉一样粉碎在了一百二十回的《红楼梦》程高本的汪洋之中。为求真本，使得红学家们从俞平伯那个年代开始费尽了力气探寻到如今。程高本的伟大之处，是它的后四十回保存了残缺的《石头记》后面许多逼真的文笔。时召唤起我复活那个隐藏在程高本后四十回中的曹公文本。</p>
<p>&lt;/p&gt;&lt;p class="calibre_"&gt;如果把程高本《红楼梦》后四十回比作遮蔽曹雪芹《红楼梦》八十回后真文字的黑夜，我却以孩子般的童心在这个黑夜中发现了无数闪烁曹公文笔光芒碎片似的星星，怀着尽可能复原出曹公原意及文字原貌的愿望、倾尽全力的以程高本后四十回为参照底本，用修补古董复活原貌原意韵的法子，贴原著、作者、读者之心，求真、补修、增删，改添、复原，以“脂意”为参照，给这个找不到尾巴的“红鱼”复活出了一个“本真”的尾巴，给残缺的《石头记》考古修补复原出了这二十回“真”文字。为了读者的习惯，所以名为“《红楼梦八十回后曹文考古复原》（20回）”。如果名为“《石头记八十回后曹文考古复原》（20回）”更为妥帖。&lt;/p&gt;&lt;p class="calibre_"&gt;为了求“真”，本以考古复原修补复活出的二十回“曹文”所有的字、词、句尊脂批《石头记》八十回文本之例，文字上全沿袭保全了曹雪芹当时的习惯用法，也极力保全了曹雪芹原来的意蕴。&lt;/p&gt;&lt;p class="calibre_"&gt;这也是我“考古修补复原《红楼梦》”的一些心得、见识与看法，我觉得也应该是“考古修补复原《红楼梦》”的一个原则。</p>
<p>这个原则是：不但内容上要本真理出呈现曹公的原意段落，而且考古修补复原的文字与风韵也应本真复活曹公风骨，否则会真如张爱玲说的，是狗尾续貂了。&lt;/p&gt;&lt;p class="calibre_"&gt;回头想想古典时代给我们留下的长城已残破在荒山野岭，体现园林艺术最高峰的圆明园已成为我们不忘国耻的象征，只剩下了荒草残垣。体现古典文学最高峰的《红楼梦》虽经过程伟元高鹗为迎合当时政治环境的需要粉碎曹雪芹文笔式的整理编修，虽得以完整流传，仍是良莠不齐。长城、圆明园不是我个人能力所及能修复的，而《红楼梦》我可以个人去伪存真地完成修复它的残缺，还原它本来应该的伟大的样子。在我心灵被一些所谓专家灌输的程高本后40回乃高鹗所续的定义被我无情的否决后，终于复活了这本代表中国古典文学高峰《红楼梦》在曹雪芹笔下的原貌。</p>
<p>无意之中，以文本实证的方式在“红学”领域开创了一门叫“考古复原曹文”的学问。不管将会受到怎样的待遇，我相信无数喜爱《红楼梦》读者的眼光，更相信自己发现与所做的没有白费光阴，我无须写出长篇大论废话连篇的所谓学术论证，我以作家的本分与辛劳做出的文本会替我回答一切。&lt;/p&gt;&lt;p class="calibre_"&gt;至于我把这道残缺的长城复原修补得怎样，读者读后便知。&lt;/p&gt;&lt;p class="calibre_"&gt;&lt;span class="calibre_7"&gt;2010年8月15日至2016年5月31日写于岳麓山下&lt;/span&gt;&lt;/p&gt;&lt;p class="calibre_"&gt;&lt;/p&gt;&lt;p class="calibre_"&gt;&lt;span class="calibre_7"&gt;唐国明，男，汉族，现居长沙，湖南省作家协会会员，自发表作品以来，已在《诗刊》《钟山》《北京文学》《星星》诗刊及其他国内外刊物发表作品数百万多字。其中以反复阅读的方式在程高本后40回中考古发掘出藏着的曹雪芹原笔，以考古的科学方式修补复原出符合曹雪芹语韵与曹雪芹创作原意的13万字20回长篇小说《红楼梦八十回后曹文考古复原》先在一些杂志发表片段，然后在民刊《浮玉》以《新编续八十回后红楼梦》之名全文发表，随后分别在美国与秘鲁《国际日报》中文版以《红楼梦八十回后真相还原》之名连载。</p>
<p>&lt;/span&gt;&lt;/p&gt;&lt;p class="calibre2" style="margin:0pt; border:0pt; height:0pt"&gt; &lt;/p&gt;&lt;p class="calibre2" style="margin:0pt; border:0pt; height:1em"&gt; &lt;/p&gt;</p>
            </div>
        </div>
        <div class="footer">
            <a href="#" id="backToIndex">返回首页</a>
            <a href="javascript:history.back()">返回上一页</a>
        </div>
    </div>

    <script>
        // 检查本地存储中的模式偏好
        function checkMode() {
            const savedMode = localStorage.getItem('darkMode');
            if (savedMode === 'true') {
                document.body.classList.add('dark-mode');
                document.querySelector('.mode-toggle').textContent = '☀️ 日间模式';
            }
        }

        // 切换模式
        function toggleMode() {
            const isDarkMode = document.body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            
            const toggleBtn = document.querySelector('.mode-toggle');
            if (isDarkMode) {
                toggleBtn.textContent = '☀️ 日间模式';
            } else {
                toggleBtn.textContent = '🌙 夜间模式';
            }
        }

        // 设置返回首页链接
        function setBackToIndexLink() {
            const backLink = document.getElementById('backToIndex');
            
            // 检查是否从索引页面来的
            const referrer = document.referrer;
            if (referrer) {
                // 提取referrer中的文件名
                const url = new URL(referrer);
                const pathname = url.pathname;
                const filename = pathname.substring(pathname.lastIndexOf('/') + 1);
                
                // 如果是从索引页面来的（index.html, index_2.html 等）
                if (filename.match(/^index(_\d+)?\.html$/)) {
                    backLink.href = filename;
                    return;
                }
            }
            
            // 默认返回首页
            backLink.href = 'index.html';
        }

        // 页面加载时检查模式和设置返回链接
        document.addEventListener('DOMContentLoaded', function() {
            checkMode();
            setBackToIndexLink();
        });
    </script>
</body>
</html>